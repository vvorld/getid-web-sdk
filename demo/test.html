<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" />
    <script type="text/javascript"
            src="https://cdn.getid.cloud/sdk/getid-web-sdk-v1.0.0-best-sdk.min.js?t=1598955815611"></script>
    <title>SDK Example</title>
</head>

<body style="display: flex;justify-content: center;">
<style>
    html {
        background: white;
    }

    body {
        margin: 0;
        background: white;
    }

    #getid-component {
        display: flex;
        justify-content: center;
        flex-flow: column;
        flex-grow: 1;
        padding: 0 20px;
        background: white;
    }
</style>
<div id="getid-component"></div>
<script>
    const config = {
        "apiUrl": "https://b-est.sb.getid.dev",
        "apiKey": "1231223",
        "containerId": "getid-component",
        "dictionary": "en",
        "metadata": {
            "externalId": 121212
        },
        "flow": [
            {
                "component": "Form",
                "fields": [
                    {
                        "label": "First Name",
                        "type": "text",
                        "name": "First name",
                        "required": false
                    },
                    {
                        "label": "Last Name",
                        "type": "text",
                        "name": "Last name",
                        "required": false
                    },
                    {
                        "label": "Date Of Birth",
                        "type": "date",
                        "name": "Date of birth",
                        "required": false
                    },
                    {
                        "placeholder": 'Document front side',
                        "type": 'file',
                        "name": 'test',
                        "required": true,
                    },
                    {
                        "label": 'I have read and understand <a target="_blank" href="https://www.lhv.ee/assets/files/guides/LHV_Trader_information_centre-EN.pdf">Terms of use</a> ',
                        "type": "consent",
                        "name": "privacy"
                    }
                ]
            },
            {
                "component": "Form",
                "fields": [
                    {
                        "label": "City",
                        "type": "select",
                        "name": "City of residence",
                        "required": false
                    },
                    {
                        "label": "Last Name",
                        "type": "text",
                        "name": "Last name",
                        "required": false
                    },
                ]
            },
            {
                "component": "DocumentPhoto",
                "showRules": true,
                "interactive": true,
                "enableCheckPhoto": true,
            },
            {
                "component": "Selfie",
                "showRules": true
            },
            {
                "component": "Record",
                "server": "https://mc2.getid.dev",
                "phrases": [
                    "My name is...",
                    "I would like to receive a certificate..."
                ]
            },
            {
                "component": "ThankYou"
            }
        ],
        onComplete: function (data) {
            window.location.href = 'https://b-est.sb.getid.dev/detail-view/' + data.id;
        }
    }

    try {
        const customerId = Math.floor(Math.random() * 1000000);
        const tokenProvider = getidWebSdk.createPublicTokenProvider(config.apiUrl, config.apiKey, customerId);
        getidWebSdk.init(config, tokenProvider);
    } catch (e) {
        console.log(`Error: ${e.message}`);
    }


</script>
</body>

</html>